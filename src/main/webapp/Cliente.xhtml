<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 

<h:head>

</h:head> 
<body> 
<h1>Cadastro de Cliente</h1>

<h:form id="frmCliente">
	nome: <h:inputText value="#{clienteController.cliente.nome}" />
	E-mail: <h:inputText value="#{clienteController.cliente.email}" />
	Telefone: <h:inputText value="#{clienteController.cliente.telefone}" />
	Estado: <h:selectOneMenu value="#{clienteController.cliente.estado}" converter="#{estadoConverter}">
				<f:selectItems value="#{estadoController.estado}" var="e" itemLabel="#{e.uf}"/>
			</h:selectOneMenu>	
	
	<h:commandButton action="#{clienteController.salvar()}" value="Salvar">
	<f:ajax execute= "frmCliente" render="frmCliente" />
	</h:commandButton>
	<h:commandButton rendered="#{clienteController.modoEdicao}" action="#{clienteController.cancelar()}" value="Cancelar">
	<f:ajax render="frmCliente" />
	</h:commandButton>
	
	
	
	<h:dataTable id="dtClientes" value="#{clienteController.clientes}" var="c">
		<h:column><f:facet name="header">ID</f:facet> #{c.id}</h:column>
		<h:column><f:facet name="header">NOME</f:facet> #{c.nome}</h:column>
		<h:column><f:facet name="header">E-email</f:facet>#{c.email}</h:column>
		<h:column><f:facet name="header">Telefone</f:facet>#{c.telefone}</h:column>
		<h:column><f:facet name="header">Estado</f:facet>#{c.estado.uf}</h:column>
		<h:column> 
			<h:commandButton action="#{clienteController.Excluir(c)}" value="x"></h:commandButton>
		</h:column>
		<h:column> 
			<h:commandButton action="#{clienteController.Editar(c)}" value="Editar">
				<f:ajax render="frmCliente"></f:ajax>
			</h:commandButton>
		</h:column>
	</h:dataTable>
	
</h:form>

</body> 

</html>
